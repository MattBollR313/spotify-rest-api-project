package edu.psgv.sweng861;

import static org.junit.jupiter.api.Assertions.*;

import java.util.ArrayList;
import java.util.Arrays;

import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

class SpotifyArtistDataTest {
	
	// Can't test images due to unique id attached to every BufferedImage object
	
	SpotifyRestApiProject projectApi = new SpotifyRestApiProject();
	SpotifyArtistData artistData;

	@BeforeEach
	public void setUp() throws Exception {
		artistData = projectApi.searchArtist("Penkin");
	}

	@AfterEach
	public void tearDown() throws Exception {
	}

	@Test
	public void testArtistNames() {
		ArrayList<String> artistNames = artistData.getArtistNames();
		ArrayList<String> expectedNames = new ArrayList<>(Arrays.asList("Kevin Penkin", "Kat Penkin", "Jenny Penkin", "Sergey Penkin", "Jenny Penkin"));
		assertEquals(artistNames, expectedNames);
	}
	
	@Test
	public void testArtistGenres() {
		ArrayList<ArrayList<String>> artistGenres = artistData.getArtistGenres();
		ArrayList<ArrayList<String>> expectedGenres = new ArrayList<ArrayList<String>>();
		expectedGenres.add(new ArrayList<String>(Arrays.asList("anime score", "otacore")));
		expectedGenres.add(new ArrayList<String>(Arrays.asList("rhythm game")));
		expectedGenres.add(new ArrayList<String>());
		expectedGenres.add(new ArrayList<String>(Arrays.asList("classic russian pop")));
		expectedGenres.add(new ArrayList<String>());
		assertEquals(artistGenres, expectedGenres);
	}
	
	@Test
	public void testArtistFollowers() {
		ArrayList<Integer> artistFollowers = artistData.getArtistFollowers();
		ArrayList<Integer> expectedFollowers = new ArrayList<Integer>(Arrays.asList(35692, 504, 1153, 940, 2));
		assertEquals(artistFollowers, expectedFollowers);
	}

}
